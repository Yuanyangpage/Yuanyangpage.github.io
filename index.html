<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yuanyang Xie - Academic Personal Page</title>
    <!-- Tailwind CSS CDN for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for an academic look and better readability */
        body {
            font-family: "Inter", sans-serif;
            background-color: #f8f9fa; /* Light gray background */
            color: #343a40; /* Dark gray text */
            line-height: 1.6;
            scroll-behavior: smooth; /* Smooth scrolling for anchor links */
        }
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 0 20px; /* Adjust padding to apply to inner sections */
        }
        header {
            background-color: #ffffff; /* Fallback for header background */
            border-bottom: 1px solid #e2e8f0; /* Light border */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Subtle shadow */
            display: flex;
            flex-direction: column; /* Stack top and bottom areas vertically */
            align-items: center;
        }

        /* Top area of the header with background image and name/title */
        .header-top-area {
            width: 100%;
            padding: 40px 20px; /* Vertical padding to give height */
            background-image: url('bg.jpg'); /* Placeholder image: Academic Background */
            background-size: cover;
            background-position: center;
            position: relative; /* For the overlay */
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            overflow: hidden; /* Hide any overflow from image */
        }
        /* Overlay for background image to improve text readability */
        .header-top-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(44, 82, 130, 0.7); /* Dark blue overlay with transparency */
            z-index: 0; /* Behind content */
        }
        .header-top-area .content-wrapper {
            position: relative;
            z-index: 1; /* Ensure content is above overlay */
            color: #ffffff; /* White text for content on background */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.4); /* Text shadow for better readability */
        }
        .header-top-area h1 {
            font-size: 3rem; /* Larger font size for name */
            font-weight: 700;
            margin-bottom: 5px;
        }
        .header-top-area p { /* For title/affiliation under name */
            font-size: 1.25rem;
            margin-bottom: 0; /* Remove default margin */
        }

        /* Bottom area of the header with navigation and language switcher */
        .header-bottom-area {
            width: 100%;
            background-color: #ffffff; /* White background for this section */
            padding: 15px 20px; /* Padding for nav and switcher */
            text-align: center; /* Center the nav and switcher */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Subtle shadow beneath header */
        }
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        nav ul li {
            margin: 0 15px;
            position: relative; /* For dropdown positioning */
        }
        nav ul li a {
            color: #4a5568; /* Darker gray navigation links */
            text-decoration: none;
            font-weight: 500;
            padding: 10px 0;
            transition: color 0.3s ease, border-bottom 0.3s ease;
            display: inline-block; /* Ensure padding works */
        }
        nav ul li a:hover, nav ul li a.active {
            color: #2c5282; /* Darker blue on hover/active */
            border-bottom: 2px solid #2c5282;
        }
        section {
            background-color: #ffffff;
            padding: 40px;
            margin-top: 30px;
            border-radius: 8px; /* Rounded corners for sections */
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        h2 {
            color: #2c5282; /* Blue headings */
            font-size: 2rem;
            margin-bottom: 20px;
            border-bottom: 2px solid #edf2f7; /* Light separator */
            padding-bottom: 10px;
        }
        h3 {
            color: #4a5568; /* Darker gray subheadings */
            font-size: 1.5rem;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        p {
            margin-bottom: 10px;
        }
        ul {
            list-style: disc;
            margin-left: 20px;
            margin-bottom: 10px;
        }
        li {
            margin-bottom: 5px;
        }
        a {
            color: #3182ce; /* Blue links */
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .profile-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%; /* Circular photo */
            object-fit: cover;
            margin-bottom: 20px;
            border: 3px solid #cbd5e0; /* Light border around photo */
        }
        .lang-switcher {
            text-align: right;
            margin-top: 10px;
        }
        .lang-switcher button {
            background-color: #e2e8f0;
            color: #4a5568;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-left: 10px;
            transition: background-color 0.3s ease;
        }
        .lang-switcher button.active, .lang-switcher button:hover {
            background-color: #2c5282;
            color: #ffffff;
        }
        footer {
            text-align: center;
            padding: 30px;
            margin-top: 30px;
            color: #6c757d;
            border-top: 1px solid #e2e8f0;
        }

        /* Dropdown specific styles */
        .dropdown-menu {
            position: absolute;
            top: 100%; /* Position below the parent link */
            left: 50%;
            transform: translateX(-50%); /* Center the dropdown */
            min-width: 180px; /* Ensure enough width for content */
            list-style: none; /* Remove list bullets */
            padding: 0;
            margin-top: 5px; /* Space between nav link and dropdown */
            background-color: #ffffff; /* White background for dropdown */
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 6px;
            overflow: hidden; /* Ensures rounded corners on children */
            display: none; /* Hidden by default */
            z-index: 20; /* Ensure dropdown is above other content */
        }
        .dropdown-menu li {
            margin: 0; /* Remove default list item margin for dropdown items */
        }
        .dropdown-menu a {
            color: #4a5568; /* Dropdown link color */
            padding: 10px 15px; /* Padding for dropdown items */
            display: block; /* Make the whole area clickable */
            white-space: nowrap; /* Prevent text wrapping */
            transition: background-color 0.2s ease;
        }
        .dropdown-menu a:hover {
            background-color: #f0f4f8; /* Light gray background on hover */
            text-decoration: none; /* Remove underline on hover */
        }
        .nav-link .arrow {
            font-size: 0.7em; /* Smaller arrow */
            vertical-align: middle;
            margin-left: 5px;
            transition: transform 0.3s ease;
            display: inline-block; /* To allow transform */
        }
        /* Rotate arrow on hover */
        .nav-item.show-dropdown .nav-link .arrow { /* Changed to use JS controlled class */
            transform: rotate(180deg);
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            .header-top-area h1 {
                font-size: 2.25rem;
            }
            .header-top-area p {
                font-size: 1rem;
            }
            nav ul {
                flex-direction: column;
                align-items: center;
                margin-top: 10px; /* Adjust spacing */
            }
            nav ul li {
                margin: 5px 0;
            }
            nav ul li a {
                padding: 5px 0;
            }
            .lang-switcher {
                text-align: center;
                margin-top: 10px;
            }
            section {
                padding: 20px;
            }
            h2 {
                font-size: 1.75rem;
            }
            h3 {
                font-size: 1.25rem;
            }
            /* Adjust dropdown for small screens */
            .dropdown-menu {
                left: 0;
                right: 0;
                transform: translateX(0);
                min-width: unset;
                width: 100%; /* Full width dropdown on small screens */
                border-radius: 0;
            }
        }

        /* Specific style for Recent Publications section on Home page */
        #home .recent-publications {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #edf2f7;
            display: flex; /* Use flexbox for centering content */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            flex-direction: column; /* Stack items vertically */
        }
        /* Removed the old ul and li styles as they are replaced by the carousel */
    </style>
</head>
<body>
    <header>
        <div class="header-top-area">
            <div class="content-wrapper">
                <h1 class="font-extrabold">Yuanyang Xie</h1>
                <p class="font-medium">Research Associate at Physcis Department, King's College London</p>
            </div>
        </div>
        <div class="header-bottom-area container">
            <nav class="mt-4">
                <ul class="flex justify-center space-x-6">
                    <!-- Home -->
                    <li class="nav-item group">
                        <a href="#home" class="nav-link" data-lang="en">Home</a><a href="#home" class="nav-link" data-lang="zh" style="display:none;">首页</a>
                    </li>
                    <!-- CV -->
                    <li class="nav-item group">
                        <a href="CV.html" class="nav-link" data-lang="en">CV <span class="arrow">&#9662;</span></a>
                        <a href="CV.html" class="nav-link" data-lang="zh" style="display:none;">简历 <span class="arrow">&#9662;</span></a>
                    </li>
                    <!-- Publications -->
                    <li class="nav-item group">
                        <a href="publications.html" class="nav-link" data-lang="en">Publications <span class="arrow">&#9662;</span></a>
                        <a href="publications.html" class="nav-link" data-lang="zh" style="display:none;">出版物 <span class="arrow">&#9662;</span></a>
                    </li>
                    <!-- Research -->
                    <li class="nav-item group">
                        <a href="research.html" class="nav-link" data-lang="en">Research <span class="arrow">&#9662;</span></a>
                        <a href="research.html" class="nav-link" data-lang="zh" style="display:none;">研究 <span class="arrow">&#9662;</span></a>
                    </li>
                    <!-- Contact -->
                    <li class="nav-item group">
                        <a href="contact.html" class="nav-link" data-lang="en">Contact</a><a href="contact.html" class="nav-link" data-lang="zh" style="display:none;">联系方式</a>
                    </li>
                </ul>
            </nav>
            <div class="lang-switcher mt-4">
                <button id="lang-en" class="px-4 py-2 rounded-md active">English</button>
                <button id="lang-zh" class="px-4 py-2 rounded-md">中文</button>
            </div>
        </div>
    </header>

    <main class="container">
        <section id="home" class="text-center">
            <h2 class="font-semibold" data-lang="en">Welcome</h2>
            <h2 class="font-semibold" data-lang="zh" style="display:none;">欢迎</h2>
            <img src="photo.jpg" alt="Your Photo" class="profile-photo mx-auto mb-6">
            <p data-lang="en" class="mb-4 text-lg">Welcome to my academic personal page. I am a <strong class="text-blue-700">Research Associate</strong> at <strong class="text-blue-700">King's College London</strong>. My research focuses on <span class="font-medium">Nanoplasmonics</span> with a keen interest in <span class="font-medium">chiral photonics</span> and <span class="font-medium">heterogeneous nanostructures</span>. Feel free to explore my work and connect!</p>
            <p data-lang="zh" style="display:none;" class="mb-4 text-lg">欢迎来到我的学术个人主页。我是<strong class="text-blue-700">博士后研究员</strong>，在<strong class="text-blue-700">伦敦国王学院</strong>工作。我的研究主要集中在<span class="font-medium">纳米表面等离激元</span>，并对<span class="font-medium">手性光子学</span>和<span class="font-medium">异质纳米结构</span>有浓厚兴趣。欢迎浏览我的工作并与我联系！</p>

            <div class="recent-publications">
                <!-- 图片轮播容器 -->
                <div class="carousel-container bg-white shadow-lg rounded-xl overflow-hidden p-4 space-y-4 mx-auto w-full max-w-xl">
                    <h3 class="text-2xl font-bold text-center text-gray-800 mb-4" data-lang="en">Featured Publications</h3>
                    <h3 class="text-2xl font-bold text-center text-gray-800 mb-4" data-lang="zh" style="display:none;">精选出版物</h3>

                    <div class="relative w-full rounded-lg overflow-hidden border-2 border-blue-300 p-4 bg-gray-50">
                        <div class="flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-4">
                            <a id="carousel-link" href="#" target="_blank" rel="noopener noreferrer" class="block flex-shrink-0 w-32 h-32 md:w-40 md:h-40 rounded-lg overflow-hidden border border-gray-200 flex items-center justify-center bg-white">
                                <img id="carousel-image" src="https://placehold.co/160x160/FFD700/000000?text=Pub1" alt="Publication Image" class="w-full h-full object-cover">
                            </a>
                            <div class="flex-grow text-center md:text-left">
                                <p id="publication-title" class="text-sm font-semibold text-blue-800 mb-1"></p>
                                <p id="publication-authors" class="text-gray-700 text-sm mb-1"></p>
                                <p id="publication-journal" class="text-gray-600 text-xs italic mb-2"></p>
                                <a id="publication-pdf-link" href="#" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    [PDF]
                                </a>
                            </div>
                        </div>
                        <!-- Image loading error message -->
                        <div id="image-error-message" class="absolute inset-0 bg-red-100 text-red-700 flex items-center justify-center p-4 rounded-lg hidden">
                            图片加载失败，请检查链接。
                        </div>
                    </div>

                    <div class="flex justify-center items-center space-x-4 mt-4">
                        <button id="prev-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-full shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <button id="play-pause-btn" class="bg-purple-500 hover:bg-purple-600 text-white font-semibold py-2 px-4 rounded-full shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-opacity-75 text-sm">
                            <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span id="play-pause-text">暂停</span>
                        </button>
                        <button id="next-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-full shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>
                </div>
                <p data-lang="en" class="text-sm mt-4">For a complete list, please visit the <a href="publications.html" class="text-blue-600 hover:text-blue-800">Publications section</a>.</p>
                <p data-lang="zh" style="display:none;" class="text-sm mt-4">如需完整列表，请访问<a href="#publications.html" class="text-blue-600 hover:text-blue-800">出版物部分</a>。</p>
            </div>
        </section>

        <section id="contact">
            <h2 class="font-semibold" data-lang="en">Contact</h2>
            <h2 class="font-semibold" data-lang="zh" style="display:none;">联系方式</h2>
            <p data-lang="en" class="mb-4">I am always open to discussing new research ideas or potential collaborations. Please feel free to reach out to me through the following channels:</p>
            <p data-lang="zh" style="display:none;" class="mb-4">我随时乐于讨论新的研究想法或潜在合作。请通过以下方式与我联系：</p>

            <div class="space-y-3">
                <p data-lang="en"><strong>Email:</strong> <a href="mailto:your.email@example.com" class="text-blue-600 hover:text-blue-800">yuanyang.xie@kcl.ac.uk</a></p>
                <p data-lang="zh" style="display:none;"><strong>邮箱:</strong> <a href="mailto:your.email@example.com" class="text-blue-600 hover:text-blue-800">yuanyang.xie@kcl.ac.uk</a></p>

                <p data-lang="en"><strong>Office:</strong> Department of Physics, King's College London, London, WC2R 2LS, United Kingdom</p>
                <p data-lang="zh" style="display:none;"><strong>办公室:</strong> 伦敦国王学院物理系，英国</p>

                <p>
                    <span data-lang="en"><strong>Connect with me on:</strong> </span><span data-lang="zh" style="display:none;"><strong>在以下平台找到我：</strong></span>
                    <a href="https://scholar.google.co.uk/citations?user=3EZ7dWoAAAAJ" target="_blank" class="text-blue-600 hover:text-blue-800 mr-4">Google Scholar</a>
                    <a href="https://www.linkedin.com/in/yuanyang-xie-8ab346192" target="_blank" class="text-blue-600 hover:text-blue-800 mr-4">LinkedIn</a>
                </p>
                <p data-lang="en">I aim to respond to emails within 2-3 business days.</p>
                <p data-lang="zh" style="display:none;">我会在2-3个工作日内回复邮件。</p>
            </div>
        </section>
    </main>

    <footer class="mt-8 text-gray-600 text-sm">
        <p data-lang="en">&copy; <span id="current-year-en"></span> Yuanyang Xie. All rights reserved.</p>
        <p data-lang="zh" style="display:none;">&copy; <span id="current-year-zh"></span> 谢远扬。版权所有。</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const langEnBtn = document.getElementById('lang-en');
            const langZhBtn = document.getElementById('lang-zh');
            const allLangElements = document.querySelectorAll('[data-lang]');
            const navLinksEn = document.querySelectorAll('nav .nav-link[data-lang="en"]');
            const navLinksZh = document.querySelectorAll('nav .nav-link[data-lang="zh"]');
            const currentYearEn = document.getElementById('current-year-en');
            const currentYearZh = document.getElementById('current-year-zh');
            const navItemsWithDropdown = document.querySelectorAll('.nav-item.group'); // Select all nav items that can have dropdowns

            // Variable to store the timeout ID
            let dropdownHideTimeout;
            const HIDE_DELAY = 300; // milliseconds before hiding dropdown

            // Set current year dynamically
            const year = new Date().getFullYear();
            if (currentYearEn) currentYearEn.textContent = year;
            if (currentYearZh) currentYearZh.textContent = year;

            // Function to set the language
            const setLanguage = (lang) => {
                allLangElements.forEach(el => {
                    // Check if the element has data-lang attribute and matches current language
                    if (el.getAttribute('data-lang') === lang) {
                        el.style.display = ''; // Show element
                    } else if (el.hasAttribute('data-lang')) {
                        // Hide elements that have data-lang but don't match the current language
                        el.style.display = 'none';
                    }
                });

                // Handle active state for language buttons
                if (lang === 'en') {
                    langEnBtn.classList.add('active');
                    langZhBtn.classList.remove('active');
                } else {
                    langZhBtn.classList.add('active');
                    langEnBtn.classList.remove('active');
                }

                // Update navigation links for proper display (main links)
                navLinksEn.forEach(link => {
                    link.style.display = (lang === 'en') ? 'inline-block' : 'none'; // Use inline-block for proper spacing
                });
                navLinksZh.forEach(link => {
                    link.style.display = (lang === 'zh') ? 'inline-block' : 'none';
                });

                // Update the lang attribute of the html tag
                document.documentElement.lang = lang;
            };

            // Event listeners for language buttons
            langEnBtn.addEventListener('click', () => setLanguage('en'));
            langZhBtn.addEventListener('click', () => setLanguage('zh'));

            // Set initial language to English
            setLanguage('en');

            // --- Dropdown hover logic with delay ---
            navItemsWithDropdown.forEach(navItem => {
                const dropdownMenu = navItem.querySelector('.dropdown-menu');

                if (dropdownMenu) { // Only add listeners if a dropdown menu exists
                    // Show dropdown on mouseover
                    navItem.addEventListener('mouseover', () => {
                        clearTimeout(dropdownHideTimeout); // Clear any pending hide timeout
                        dropdownMenu.style.display = 'block';
                        navItem.classList.add('show-dropdown'); // Add class to rotate arrow
                    });

                    // Hide dropdown on mouseout with a delay
                    navItem.addEventListener('mouseout', () => {
                        dropdownHideTimeout = setTimeout(() => {
                            dropdownMenu.style.display = 'none';
                            navItem.classList.remove('show-dropdown'); // Remove class to reset arrow
                        }, HIDE_DELAY);
                    });

                    // If mouse enters the dropdown itself, clear the hide timeout
                    dropdownMenu.addEventListener('mouseover', () => {
                        clearTimeout(dropdownHideTimeout);
                    });

                    // If mouse leaves the dropdown, start the hide timeout again
                    dropdownMenu.addEventListener('mouseout', () => {
                        dropdownHideTimeout = setTimeout(() => {
                            dropdownMenu.style.display = 'none';
                            navItem.classList.remove('show-dropdown');
                        }, HIDE_DELAY);
                    });
                }
            });

            // Smooth scrolling for navigation links (main and dropdown)
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    // Prevent default anchor click behavior only for internal links
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start' // Scroll to the top of the section
                            });
                        }

                        // Close dropdown after clicking a link within it (optional, but good UX)
                        const parentDropdown = this.closest('.dropdown-menu');
                        if (parentDropdown) {
                            parentDropdown.style.display = 'none';
                            parentDropdown.closest('.nav-item.group').classList.remove('show-dropdown');
                            clearTimeout(dropdownHideTimeout); // Ensure no lingering hide timeout
                        }

                        // Optional: update active class on main nav links
                        document.querySelectorAll('nav .nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        // Add active class to the parent main nav link
                        let currentNavLink = this;
                        // If it's a dropdown item, find its parent main nav link
                        while (currentNavLink && !currentNavLink.classList.contains('nav-link')) {
                            const closestNavItem = currentNavLink.closest('.nav-item');
                            currentNavLink = closestNavItem ? closestNavItem.querySelector('.nav-link') : null;
                        }
                        if (currentNavLink) {
                            currentNavLink.classList.add('active');
                        }
                    }
                });
            });

            // Set initial active nav link based on URL hash or default to Home
            const initialHash = window.location.hash || '#home';
            // Find the main nav link that corresponds to the initial hash
            const initialActiveMainLink = document.querySelector(`nav .nav-link[href="${initialHash}"][data-lang="en"]`) ||
                                         document.querySelector(`nav .nav-link[href="${initialHash}"][data-lang="zh"]`);

            if (initialActiveMainLink) {
                initialActiveMainLink.classList.add('active');
            } else {
                // If the hash points to a sub-section (e.g., #cv-education), activate its parent main link (#cv)
                const mainSectionId = initialHash.split('-')[0]; // e.g., '#cv-education' -> '#cv'
                const parentMainLink = document.querySelector(`nav .nav-link[href="${mainSectionId}"][data-lang="en"]`) ||
                                       document.querySelector(`nav .nav-link[href="${mainSectionId}"][data-lang="zh"]`);
                if (parentMainLink) {
                    parentMainLink.classList.add('active');
                } else {
                    document.querySelector('nav .nav-link[href="#home"][data-lang="en"]').classList.add('active');
                }
            }

            // --- Carousel Script Integration ---
            // 获取DOM元素
            const carouselImage = document.getElementById('carousel-image');
            const carouselLink = document.getElementById('carousel-link');
            const prevBtn = document.getElementById('prev-btn');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const nextBtn = document.getElementById('next-btn');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            const playPauseText = document.getElementById('play-pause-text');
            const imageErrorMessage = document.getElementById('image-error-message');

            // 新增的出版物详情DOM元素
            const publicationTitle = document.getElementById('publication-title');
            const publicationAuthors = document.getElementById('publication-authors');
            const publicationJournal = document.getElementById('publication-journal');
            const publicationPdfLink = document.getElementById('publication-pdf-link');

            // 出版物数据数组
            const publications = [
                {
                    src: 'imageforhome/nc2025.png',
                    title: 'Unidirectional Chiral Scattering from Single Enantiomeric Plasmonic Plasmonic Nanoparticles.',
                    authors: 'Yuanyang Xie, Alexey V. Krasavin, Diane J. Roth, Anatoly V. Zayats.',
                    journal: 'Nature Communications, 2025, 16(1):1125.',
                    link: 'paper/nc2025chiralscattering.pdf'
                },
                {
                    src: 'imageforhome/nl2023.png',
                    title: 'Broadband Transient Response and Wavelength-Tunable Photoacoustics in Plasmonic Hetero-nanoparticles.',
                    authors: 'Anton Yu. Bykov, Yuanyang Xie, Alexey V. Krasavin, Anatoly V. Zayats.',
                    journal: 'Nano Letters, 2023, 23(7):2786-2791.',
                    link: 'paper/acs.nanolett.2023acoustic.pdf'
                },
                {
                    src: 'imageforhome/SAB2021.png',
                    title: 'A Trigger-based Aggregation of Aptamer-functionalized Gold nanoparticles for Colorimetry: An Example on Detection of Escherichia Coli O157: H7.',
                    authors: 'Yuanyang Xie, Yu Huang, Jiye Li, Jiangling Wu.',
                    journal: 'Sensors and Actuators B: Chemical, 2021, 339: 129865.',
                    link: 'paper/Ecoli157.pdf'
                },
                {
                    src: 'imageforhome/NJC2019.png',
                    title: 'Sensitive Colorimetric Detection for Lysozyme Based on the Capture of A Fixed Thiol-aptamer on Gold Nanoparticles.',
                    authors: 'Yuanyang Xie, Yu Huang, Dongyun Tang, Hongliang Cui, Lizhu Yang, Haiyan Cao, Wen Yun.',
                    journal: 'New Journal of Chemistry, 2019, 43(11): 4531-4538.',
                    link: 'paper/lyz.pdf'
                },
                {
                    src: 'imageforhome/MA2018.png',
                    title: 'A Competitive Colorimetric Chloramphenicol Assay Based on The Non-cross-linking Deaggregation of Gold Nanoparticles Coated with A Polyadenine-modified Aptamer.',
                    authors: 'Yuanyang Xie, Yu Huang, Dongyun Tang, Hongliang Cui, Haiyan Cao.',
                    journal: 'Microchimica Acta, 2018, 185: 1-9.',
                    link: 'paper/competive colorimetric chloramphenicol assay deaggregation.pdf'
                }
            ];

            let currentIndex = 0; // 当前出版物索引
            let autoplayInterval; // 自动播放的定时器ID
            let isPlaying = true; // 播放状态

            /**
             * 显示指定索引的出版物详情
             * @param {number} index - 要显示的出版物索引
             */
            function showPublication(index) {
                imageErrorMessage.classList.add('hidden');

                const publication = publications[index];
                if (publication) {
                    carouselImage.src = publication.src;
                    carouselImage.alt = publication.title;
                    carouselLink.href = publication.link; // 图片本身的链接

                    publicationTitle.textContent = publication.title;
                    publicationAuthors.textContent = publication.authors;
                    publicationJournal.textContent = publication.journal;
                    publicationPdfLink.href = publication.link; // PDF链接

                    carouselImage.onerror = () => {
                        imageErrorMessage.classList.remove('hidden');
                        console.error(`图片加载失败: ${publication.src}`);
                    };
                    carouselImage.onload = () => {
                        imageErrorMessage.classList.add('hidden');
                    };
                }
            }

            /**
             * 切换到下一篇出版物
             */
            function nextPublication() {
                currentIndex = (currentIndex + 1) % publications.length;
                showPublication(currentIndex);
            }

            /**
             * 切换到上一篇出版物
             */
            function prevPublication() {
                currentIndex = (currentIndex - 1 + publications.length) % publications.length;
                showPublication(currentIndex);
            }

            /**
             * 启动自动播放
             */
            function startAutoplay() {
                if (!autoplayInterval) { // 避免重复启动
                    autoplayInterval = setInterval(nextPublication, 2000); // 每2秒切换一次
                    isPlaying = true;
                    playIcon.classList.add('hidden');
                    pauseIcon.classList.remove('hidden');
                    playPauseText.textContent = '暂停';
                }
            }

            /**
             * 停止自动播放
             */
            function stopAutoplay() {
                clearInterval(autoplayInterval);
                autoplayInterval = null; // 清除定时器ID
                isPlaying = false;
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                playPauseText.textContent = '播放';
            }

            /**
             * 切换播放/暂停状态
             */
            function toggleAutoplay() {
                if (isPlaying) {
                    stopAutoplay();
                } else {
                    startAutoplay();
                }
            }

            // 事件监听器
            prevBtn.addEventListener('click', () => {
                stopAutoplay(); // 手动操作时暂停自动播放
                prevPublication();
            });

            nextBtn.addEventListener('click', () => {
                stopAutoplay(); // 手动操作时暂停自动播放
                nextPublication();
            });

            playPauseBtn.addEventListener('click', toggleAutoplay);

            // 页面加载完成后初始化轮播
            showPublication(currentIndex); // 显示第一篇出版物
            startAutoplay(); // 启动自动播放
        });
    </script>
</body>
</html>
